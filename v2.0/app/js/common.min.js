window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener("load",function(){function e(e){i=i||setTimeout(function(){i=null,requestAnimationFrame(t)},300)}function t(){for(var e,t,i,s=window.pageYOffset,o=s+window.innerHeight,r=0;r<a.length;)e=a[r].getBoundingClientRect(),t=s+e.top,i=t+e.height,i>s&&o>t?(n(a[r]),a[r].classList.remove("replace")):r++}function n(e){function t(){e.addEventListener("click",function(e){e.preventDefault()},!1),e.appendChild(n).addEventListener("animationend",function(t){var n=e.querySelector&&e.querySelector("img.preview");n&&(t.target.alt=n.alt||"",e.removeChild(n),t.target.classList.remove("reveal"))})}if(e&&e.href){var n=new Image;e.dataset&&(n.srcset=e.dataset.srcset||"",n.sizes=e.dataset.sizes||""),n.src=e.href,n.className="reveal",n.complete?t():n.onload=t}}var i,a=document.getElementsByClassName("progressive replace");window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1),t()},!1),window.onload=function(){function e(){h.open("GET","./data/works.json",!0),h.setRequestHeader("Content-Type","application/json"),h.onreadystatechange=function(){if(4==h.readyState&&200==h.status){r(JSON.parse(h.response))}},h.send()}function t(){v.open("GET","./layout/filters-work.html",!0),v.setRequestHeader("Content-Type","application/html"),v.onreadystatechange=function(){if(4==v.readyState&&200==v.status){o(v.responseText)}},v.send()}function n(){p.open("GET","./layout/about.html",!0),p.setRequestHeader("Content-Type","application/html"),p.onreadystatechange=function(){if(4==p.readyState&&200==p.status){var e=p.responseText;if(L<1){document.getElementById("about").insertAdjacentHTML("afterBegin",e)}L++}},p.send()}function i(){w.open("GET","./layout/contact.html",!0),w.setRequestHeader("Content-Type","application/html"),w.onreadystatechange=function(){if(4==w.readyState&&200==w.status){var e=w.responseText;if(k<1){document.getElementById("contact").insertAdjacentHTML("afterBegin",e)}k++}},w.send()}function a(a){document.getElementById("loaders").classList.remove("hidden");for(var s=0;s<_.children.length;s++)_.children[s].classList.remove("active"),a.target.parentNode.getAttribute("data-link")==_.children[s].id&&(_.children[s].classList.add("active"),"about"==_.children[s].id?n():"works"==_.children[s].id?(E<1&&(t(),e()),E++):"contact"==_.children[s].id&&i(),"works"==_.children[s].id&&(q.querySelector(".work__item").style="display: flex;"));setTimeout(function(){document.getElementById("loaders").classList.add("hidden")},200)}function s(e,t,n){var i=n?e.target.parentNode:e.target;e.preventDefault();for(var a=0;a<t.length;a++)t[a].classList.remove("active");i.classList.add("active")}function o(e){var t=document.getElementById("works"),n=document.getElementById("work-filters");t.insertAdjacentHTML("afterBegin",e),l(n);var i=document.getElementById("work-sort"),a=i.getElementsByTagName("li");i.addEventListener("click",function(){s(event,a),"list"==document.querySelector("#work-sort .work__filter.active").dataset.sort?q.classList.add("list"):q.classList.remove("list")})}function r(e){var t="",n=e.length;j=n-A<3?n-A:3;for(var i=A;i<A+j;i++){var a=q.firstChild.nextSibling.cloneNode(!0);a.classList.add(e[i].type),a.querySelector(".work__img img").src=e[i].minImg,a.querySelector(".work__img a").href=e[i].img,a.querySelector(".work__type").innerHTML=e[i].type,a.querySelector(".work__date").innerHTML=e[i].date,a.querySelector(".work__head").innerHTML=e[i].head,a.querySelector(".work__desc").innerHTML=e[i].desc;for(var s=0;s<e[i].tag.length;s++){var o=a.querySelector(".work__tags"),r=o.querySelector(".work__tag");r.innerHTML=e[i].tag[s],o.appendChild(r)}a.querySelector(".work__author-img img").src=e[i].authorImg,a.querySelector(".work__author-name").innerHTML=e[i].authorName;var l=document.createElement("div");l.appendChild(a),t+=l.innerHTML,i==n-1&&H.classList.add("disabled")}A+=3,q.insertAdjacentHTML("beforeend",t);var c=document.querySelector(".work__filter.active");if(c)for(var i=0;i<q.children.length;i++)q.children[i].style="display: none;",q.children[i].classList.contains(c.dataset.filter)&&(q.children[i].style="display: flex;")}function l(e){var t=e||document.getElementById("work-filters"),n=t.getElementsByTagName("li");t.addEventListener("click",function(){if(event.target.classList.contains("work__filter-first"))t.classList.toggle("open"),console.log(event.textContent);else{t.classList.remove("open"),s(event,n);var e=event.target;if(t!=e)for(var i=0;i<q.children.length;i++)q.children[i].style="display: none;",q.children[i].classList.contains(e.dataset.filter)&&(q.children[i].style="display: flex;")}})}function c(){this.classList.toggle("active"),d()}function d(){S.classList.contains("mobile")?(R.style="min-width: 100%; left: -300px;",I.classList.contains("active")?(b.style="left: calc(50% - "+(b.offsetWidth/2+10)+"px);",T.cssText=T.cssText?"":"overflow: hidden; width: "+window.innerWidth+"px;height:"+window.innerHeight+"px;",C.style="opacity: 1; transform: scale(1);",R.style="left: 100%; display: none"):(T.cssText="overflow: auto; width: 100%; height: 100%;",b.style="left: -600px; transform: translateX(0);")):(C.style="opacity: 0; transform: scale(0);",I.classList.contains("active")?(b.style="left: 0px;",R.style="min-width: auto; left: 0;"):(b.style="left: -600px;",R.style="min-width: 100%; left: -300px;"))}function m(){window.matchMedia("(max-width: 680px)").matches?(S.classList.add("mobile"),I.classList.remove("active")):(S.classList.remove("mobile"),I.classList.add("active"))}function u(){S.classList.contains("mobile")&&(b.style="left: -600px;",I.classList.remove("active"),C.style="opacity: 0; transform: scale(0);",R.style="min-width: 100%; left: -300px;",T.cssText="overflow: auto; width: 100%; height: 100%;")}function f(e){var t=e.target?e.target.innerHTML:e.textContent;document.querySelector(".content-header__text span").innerHTML=" â€” "+t}function g(){b.offsetHeight>400?N.style="height: 400px;":N.style="height: "+(window.innerHeight-40)+"px;"}function y(){window.scrollBy(0,-60),window.pageYOffset>0&&requestAnimationFrame(y)}var h=new XMLHttpRequest,v=new XMLHttpRequest,p=new XMLHttpRequest,w=new XMLHttpRequest,L=0,E=0,k=0,T=document.documentElement.style,x=document.getElementById("menu"),B=x.getElementsByTagName("li"),_=document.getElementById("data-container"),q=document.getElementById("works-container"),H=document.getElementById("work-ajax"),I=document.getElementById("toggle-menu"),S=document.getElementById("home"),M=document.getElementById("btn-top"),C=document.getElementById("menu-close"),b=document.getElementById("aside"),N=b.querySelector(".navigation"),R=document.getElementById("main"),A=0,j=0;m(),d(),function(){x.firstElementChild.classList.add("active"),document.getElementById("about").classList.add("active"),f(x.firstElementChild),setTimeout(function(){n(),document.getElementById("loaders").classList.add("hidden")},200)}(),g(),x.addEventListener("click",function(){s(event,B,!0),u(),a(event),f(event)}),I.addEventListener("click",c),C.addEventListener("click",function(){u()}),H.addEventListener("click",e),M.addEventListener("click",function(e){e.preventDefault(),y()},!1),window.onresize=function(){m(),d(),g()},window.onscroll=function(){!function(){window.pageYOffset>=600?M.style="bottom: -35px; right: -35px;":M.style="bottom: -100px; right: -100px;"}()}};