window.onload=function(){function e(){h.open("GET","./data/works.json",!0),h.setRequestHeader("Content-Type","application/json"),h.onreadystatechange=function(){if(4==h.readyState&&200==h.status){r(JSON.parse(h.response))}},h.send()}function t(){p.open("GET","./layout/filters-work.html",!0),p.setRequestHeader("Content-Type","application/html"),p.onreadystatechange=function(){if(4==p.readyState&&200==p.status){o(p.responseText)}},p.send()}function n(){v.open("GET","./layout/about.html",!0),v.setRequestHeader("Content-Type","application/html"),v.onreadystatechange=function(){if(4==v.readyState&&200==v.status){var e=v.responseText;if(w<1){document.getElementById("about").insertAdjacentHTML("afterBegin",e)}w++}},v.send()}function i(){L.open("GET","./layout/contact.html",!0),L.setRequestHeader("Content-Type","application/html"),L.onreadystatechange=function(){if(4==L.readyState&&200==L.status){var e=L.responseText;if(k<1){document.getElementById("contact").insertAdjacentHTML("afterBegin",e)}k++}},L.send()}function a(a){document.getElementById("loaders").classList.remove("hidden");for(var s=0;s<_.children.length;s++)_.children[s].classList.remove("active"),a.target.parentNode.getAttribute("data-link")==_.children[s].id&&(_.children[s].classList.add("active"),"about"==_.children[s].id?n():"works"==_.children[s].id?(E<1&&(t(),e()),E++):"contact"==_.children[s].id&&i(),"works"==_.children[s].id&&(q.querySelector(".work__item").style="display: flex;"));setTimeout(function(){document.getElementById("loaders").classList.add("hidden")},200)}function s(e,t,n){var i=n?e.target.parentNode:e.target;e.preventDefault();for(var a=0;a<t.length;a++)t[a].classList.remove("active");i.classList.add("active")}function o(e){document.getElementById("works").insertAdjacentHTML("afterBegin",e),l();var t=document.getElementById("work-filters"),n=t.getElementsByTagName("li"),i=document.getElementById("work-sort"),a=i.getElementsByTagName("li");t.addEventListener("click",function(){s(event,n)}),i.addEventListener("click",function(){s(event,a),"list"==document.querySelector("#work-sort .work__filter.active").dataset.sort?q.classList.add("list"):q.classList.remove("list")})}function r(e){var t="",n=e.length;R=n-N<3?n-N:3;for(var i=N;i<N+R;i++){var a=q.firstChild.nextSibling.cloneNode(!0);a.classList.add(e[i].type),a.querySelector(".work__img img").src=e[i].img,a.querySelector(".work__type").innerHTML=e[i].type,a.querySelector(".work__date").innerHTML=e[i].date,a.querySelector(".work__head").innerHTML=e[i].head,a.querySelector(".work__desc").innerHTML=e[i].desc;for(var s=0;s<e[i].tag.length;s++){var o=a.querySelector(".work__tags"),r=o.querySelector(".work__tag");r.innerHTML=e[i].tag[s],o.appendChild(r)}a.querySelector(".work__author-img img").src=e[i].authorImg,a.querySelector(".work__author-name").innerHTML=e[i].authorName;var l=document.createElement("div");l.appendChild(a),t+=l.innerHTML,i==n-1&&x.classList.add("disabled")}N+=3,q.insertAdjacentHTML("beforeend",t);var c=document.querySelector(".work__filter.active");if(c)for(var i=0;i<q.children.length;i++)q.children[i].style="display: none;",q.children[i].classList.contains(c.dataset.filter)&&(q.children[i].style="display: flex;")}function l(){var e=document.getElementById("work-filters");e.addEventListener("click",function(){var t=event.target;if(e!=t)for(var n=0;n<q.children.length;n++)q.children[n].style="display: none;",q.children[n].classList.contains(t.dataset.filter)&&(q.children[n].style="display: flex;")})}function c(){this.classList.toggle("active"),d()}function d(){I.classList.contains("mobile")?(C.style="min-width: 100%; left: -300px;",H.classList.contains("active")?(b.style="left: calc(50% - "+(b.offsetWidth/2+10)+"px);",M.style="opacity: 1; transform: scale(1);",C.style="left: 100%;"):b.style="left: -600px; transform: translateX(0);"):(M.style="opacity: 0; transform: scale(0);",H.classList.contains("active")?(b.style="left: 0px;",C.style="min-width: auto; left: 0;"):(b.style="left: -600px;",C.style="min-width: 100%; left: -300px;"))}function u(){document.body.clientWidth<=680?(I.classList.add("mobile"),H.classList.remove("active")):(I.classList.remove("mobile"),H.classList.add("active"))}function m(){I.classList.contains("mobile")&&(b.style="left: -600px;",H.classList.remove("active"),M.style="opacity: 0; transform: scale(0);",C.style="min-width: 100%; left: -300px;")}function f(e){var t=e.target?e.target.innerHTML:e.textContent;document.querySelector(".content-header__text span").innerHTML=" â€” "+t}function y(){window.innerHeight-20<b.offsetHeight?b.querySelector(".navigation").style="height: "+(window.innerHeight-40)+"px;":b.querySelector(".navigation").style="height: 400px;"}function g(){window.scrollBy(0,-60),window.pageYOffset>0&&requestAnimationFrame(g)}var h=new XMLHttpRequest,p=new XMLHttpRequest,v=new XMLHttpRequest,L=new XMLHttpRequest,w=0,E=0,k=0,T=document.getElementById("menu"),B=T.getElementsByTagName("li"),_=document.getElementById("data-container"),q=document.getElementById("works-container"),x=document.getElementById("work-ajax"),H=document.getElementById("toggle-menu"),I=document.getElementById("home"),S=document.getElementById("btn-top"),M=document.getElementById("menu-close"),b=document.getElementById("aside"),C=document.getElementById("main"),N=0,R=0;u(),d(),function(){T.firstElementChild.classList.add("active"),document.getElementById("about").classList.add("active"),f(T.firstElementChild),setTimeout(function(){n(),document.getElementById("loaders").classList.add("hidden")},200)}(),y(),T.addEventListener("click",function(){s(event,B,!0),m(),a(event),f(event)}),H.addEventListener("click",c),M.addEventListener("click",function(){m()}),x.addEventListener("click",e),S.addEventListener("click",function(e){e.preventDefault(),g()},!1),window.onresize=function(){u(),d(),y()},window.onscroll=function(){!function(){window.pageYOffset>=600?S.style="bottom: -35px; right: -35px;":S.style="bottom: -100px; right: -100px;"}()}};