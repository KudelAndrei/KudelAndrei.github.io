!function(){window.innerWidth<680?(document.getElementById("home").classList.add("mobile"),document.getElementById("toggle-menu").classList.remove("active")):(document.getElementById("home").classList.remove("mobile"),document.getElementById("toggle-menu").classList.add("active"))}(),window.onload=function(){function e(){f.open("GET","./data/works.json",!0),f.setRequestHeader("Content-Type","application/json"),f.onreadystatechange=function(){if(4==f.readyState&&200==f.status){l(JSON.parse(f.response))}},f.send()}function t(){g.open("GET","./layout/filters-work.html",!0),g.setRequestHeader("Content-Type","application/html"),g.onreadystatechange=function(){if(4==g.readyState&&200==g.status){o(g.responseText),B.classList.add("scale-out"),setTimeout(function(){B.style="display: none;"},200)}},g.send()}function n(){v.open("GET","./layout/about.html",!0),v.setRequestHeader("Content-Type","application/html"),v.onreadystatechange=function(){if(4==v.readyState&&200==v.status){var e=v.responseText;if(h<1){document.getElementById("about").insertAdjacentHTML("afterBegin",e)}h++}},v.send()}function i(){p.open("GET","./layout/contact.html",!0),p.setRequestHeader("Content-Type","application/html"),p.onreadystatechange=function(){if(4==p.readyState&&200==p.status){var e=p.responseText;if(w<1){document.getElementById("contact").insertAdjacentHTML("afterBegin",e)}w++}},p.send()}function s(t){document.getElementById("loaders").classList.remove("hidden");for(var s=0;s<T.children.length;s++)T.children[s].classList.remove("active"),t.target.parentNode.getAttribute("data-link")==T.children[s].id&&(T.children[s].classList.add("active"),"about"==T.children[s].id?n():"works"==T.children[s].id?(L<1&&e(),L++):"contact"==T.children[s].id&&i(),"works"==T.children[s].id&&(I.querySelector(".work__item").style="display: flex;"));setTimeout(function(){document.getElementById("loaders").classList.add("hidden")},200)}function a(e,t,n){var i=n?e.target.parentNode:e.target;e.preventDefault();for(var s=0;s<t.length;s++)t[s].classList.remove("active");i.classList.add("active")}function o(e){document.getElementById("works").insertAdjacentHTML("afterBegin",e),d();var t=document.getElementById("work-filters"),n=t.getElementsByTagName("li"),i=document.getElementById("work-sort"),s=i.getElementsByTagName("li");t.addEventListener("click",function(){a(event,n)}),i.addEventListener("click",function(){a(event,s),"list"==document.querySelector("#work-sort .work__filter.active").dataset.sort?I.classList.add("list"):I.classList.remove("list")})}function l(e){var t="",n=e.length;N=n-C<3?n-C:3;for(var i=C;i<C+N;i++){var s=I.firstChild.nextSibling.cloneNode(!0);s.classList.add(e[i].type),s.querySelector(".work__img img").src=e[i].img,s.querySelector(".work__type").innerHTML=e[i].type,s.querySelector(".work__date").innerHTML=e[i].date,s.querySelector(".work__head").innerHTML=e[i].head,s.querySelector(".work__desc").innerHTML=e[i].desc;for(var a=0;a<e[i].tag.length;a++){var o=s.querySelector(".work__tags"),l=o.querySelector(".work__tag");l.innerHTML=e[i].tag[a],o.appendChild(l)}s.querySelector(".work__author-img img").src=e[i].authorImg,s.querySelector(".work__author-name").innerHTML=e[i].authorName;var d=document.createElement("div");d.appendChild(s),t+=d.innerHTML,i==n-1&&_.classList.add("disabled")}C+=3,I.insertAdjacentHTML("beforeend",t);var c=document.querySelector(".work__filter.active");if(c)for(var i=0;i<I.children.length;i++)I.children[i].style="display: none;",I.children[i].classList.contains(c.dataset.filter)&&(I.children[i].style="display: flex;")}function d(){var e=document.getElementById("work-filters");e.addEventListener("click",function(){var t=event.target;if(e!=t)for(var n=0;n<I.children.length;n++)I.children[n].style="display: none;",I.children[n].classList.contains(t.dataset.filter)&&(I.children[n].style="display: flex;")})}function c(){this.classList.toggle("active"),r()}function r(){x.classList.contains("mobile")?(M.style="min-width: 100%; left: -300px;",q.classList.contains("active")?(S.style="left: 50%; transform: translateX(-50%);",b.style="opacity: 1; transform: scale(1);",M.style="left: 100%;"):S.style="left: -600px; transform: translateX(0);"):(b.style="opacity: 0; transform: scale(0);",q.classList.contains("active")?(S.style="left: 0px;",M.style="min-width: auto; left: 0;"):(S.style="left: -600px;",M.style="min-width: 100%; left: -300px;"))}function m(){window.innerWidth<680?(x.classList.add("mobile"),q.classList.remove("active")):(x.classList.remove("mobile"),q.classList.add("active"))}function u(){x.classList.contains("mobile")&&(S.style="left: -600px;",q.classList.remove("active"),b.style="opacity: 0; transform: scale(0);",M.style="min-width: 100%; left: -300px;")}function y(){window.scrollBy(0,-50),window.pageYOffset>0&&requestAnimationFrame(y)}var f=new XMLHttpRequest,g=new XMLHttpRequest,v=new XMLHttpRequest,p=new XMLHttpRequest,h=0,L=0,w=0,E=document.getElementById("menu"),k=E.getElementsByTagName("li"),B=document.getElementById("btn-filters"),T=document.getElementById("data-container"),I=document.getElementById("works-container"),_=document.getElementById("work-ajax"),q=document.getElementById("toggle-menu"),x=document.getElementById("home"),H=document.getElementById("btn-top"),b=document.getElementById("menu-close"),S=document.getElementById("aside"),M=document.getElementById("main"),C=0,N=0;m(),r(),function(){E.firstElementChild.classList.add("active"),document.getElementById("about").classList.add("active"),setTimeout(function(){n(),document.getElementById("loaders").classList.add("hidden")},200)}(),E.addEventListener("click",function(){a(event,k,!0),u(),s(event)}),B.addEventListener("click",t),q.addEventListener("click",c),b.addEventListener("click",function(){u()}),_.addEventListener("click",e),H.addEventListener("click",function(e){e.preventDefault(),y()},!1),window.onresize=function(){m(),r()},window.onscroll=function(){!function(){window.pageYOffset>=600?H.style="bottom: -35px; right: -35px;":H.style="bottom: -100px; right: -100px;"}()}};