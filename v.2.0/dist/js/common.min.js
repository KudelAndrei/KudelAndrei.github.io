window.onload=function(){function e(){a.open("GET",v,!0),a.setRequestHeader("Content-Type","application/json"),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){t(JSON.parse(a.response))}},a.send()}function t(e){var t="",n=e.length;w=n-g<2?n-g:2;for(var o=g;o<g+w;o++){var i=r.firstChild.nextSibling.cloneNode(!0);i.querySelector(".work__img").src=e[o].img,i.querySelector(".work__type").innerHTML=e[o].type,i.querySelector(".work__date").innerHTML=e[o].date,i.querySelector(".work__head").innerHTML=e[o].head,i.querySelector(".work__desc").innerHTML=e[o].desc;for(var l=0;l<e[o].tag.length;l++){var s=i.querySelector(".work__tags"),a=s.querySelector(".work__tag");a.innerHTML=e[o].tag[l],s.appendChild(a)}i.querySelector(".work__author-img").src=e[o].authorImg,i.querySelector(".work__author-name").innerHTML=e[o].authorName;var d=document.createElement("div");d.appendChild(i),t+=d.innerHTML,o==n-1&&c.classList.add("disabled")}g+=2,r.insertAdjacentHTML("beforeend",t)}function n(){this.classList.toggle("active"),o()}function o(){m.classList.contains("mobile")?(f.style="min-width: 100%; left: -300px;",d.classList.contains("active")?(y.style="left: 0px;",u.style="left: 0;"):y.style="left: -600px;"):(u.style="left: -100%;",d.classList.contains("active")?(y.style="left: 0px;",f.style="min-width: auto; left: 0;"):(y.style="left: -600px;",f.style="min-width: 100%; left: -300px;"))}function i(){window.innerWidth<680?m.classList.add("mobile"):m.classList.remove("mobile")}function l(){m.classList.contains("mobile")&&(y.style="left: -600px;",u.style="left: -100%;",d.classList.remove("active"),f.style="min-width: 100%; left: -300px;")}var s=document.getElementById("menu"),a=new XMLHttpRequest,r=document.getElementById("works"),c=document.getElementById("work-ajax"),d=document.getElementById("toggle-menu"),m=document.getElementById("home"),u=document.getElementById("home-before"),y=document.getElementById("aside"),f=document.getElementById("main"),g=0,w=0,v="../data/works.json";s.addEventListener("click",function(e){var t=document.getElementById("menu").getElementsByTagName("li"),n=e.target.parentNode;e.preventDefault(),l();for(var o=0;o<t.length;o++)t[o].classList.remove("active");n.classList.add("active")}),i(),d.addEventListener("click",n),u.addEventListener("click",function(){l()}),c.addEventListener("click",e),window.onresize=function(){i(),o()},window.onscroll=function(){}};