window.onload=function(){function e(){r.open("GET",c,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){t(JSON.parse(r.response))}},r.send()}function t(e){var t="",n=e.length;i=n-d<2?n-d:2;for(var r=d;r<d+i;r++){var c=a.firstChild.nextSibling.cloneNode(!0);c.querySelector(".work__img").src=e[r].img,c.querySelector(".work__type").innerHTML=e[r].type,c.querySelector(".work__date").innerHTML=e[r].date,c.querySelector(".work__head").innerHTML=e[r].head,c.querySelector(".work__desc").innerHTML=e[r].desc;for(var s=0;s<e[r].tag.length;s++){var l=c.querySelector(".work__tags"),u=l.querySelector(".work__tag");u.innerHTML=e[r].tag[s],l.appendChild(u)}var g=document.createElement("div");g.appendChild(c),t+=g.innerHTML,r==n-1&&o.classList.add("disabled")}d+=2,a.insertAdjacentHTML("beforeend",t)}var n=document.getElementById("menu"),r=new XMLHttpRequest,a=document.getElementById("works"),o=document.getElementById("work-ajax"),d=0,i=0,c="../data/works.json";n.addEventListener("click",function(e){var t=document.getElementById("menu").getElementsByTagName("li"),n=e.target.parentNode;e.preventDefault();for(var r=0;r<t.length;r++)t[r].classList.remove("active");n.classList.add("active")}),o.addEventListener("click",e),window.onscroll=function(){}};