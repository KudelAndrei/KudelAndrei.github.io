window.onload=function(){function e(){a.open("GET",s,!0),a.setRequestHeader("Content-Type","application/json"),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){t(JSON.parse(a.response))}},a.send()}function t(e){var t="",n=e.length;c=n-l<2?n-l:2;for(var r=l;r<l+c;r++){var a=o.firstChild.nextSibling.cloneNode(!0);a.querySelector(".work__img").src=e[r].img,a.querySelector(".work__type").innerHTML=e[r].type,a.querySelector(".work__date").innerHTML=e[r].date,a.querySelector(".work__head").innerHTML=e[r].head,a.querySelector(".work__desc").innerHTML=e[r].desc;for(var d=0;d<e[r].tag.length;d++){var s=a.querySelector(".work__tags"),u=s.querySelector(".work__tag");u.innerHTML=e[r].tag[d],s.appendChild(u)}a.querySelector(".work__author-img").src=e[r].authorImg,a.querySelector(".work__author-name").innerHTML=e[r].authorName;var m=document.createElement("div");m.appendChild(a),t+=m.innerHTML,r==n-1&&i.classList.add("disabled")}l+=2,o.insertAdjacentHTML("beforeend",t)}function n(){var e=document.getElementById("aside"),t=document.getElementById("main");this.classList.toggle("active"),this.classList.contains("active")?(e.style.left="-700px",t.style="min-width: 100%; left: -300px;"):(e.style.left="0px",t.style="min-width: auto; left: 0;")}var r=document.getElementById("menu"),a=new XMLHttpRequest,o=document.getElementById("works"),i=document.getElementById("work-ajax"),d=document.getElementById("toggle-menu"),l=0,c=0,s="../data/works.json";r.addEventListener("click",function(e){var t=document.getElementById("menu").getElementsByTagName("li"),n=e.target.parentNode;e.preventDefault();for(var r=0;r<t.length;r++)t[r].classList.remove("active");n.classList.add("active")}),d.addEventListener("click",n),i.addEventListener("click",e),window.onscroll=function(){}};