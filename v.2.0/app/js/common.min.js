window.onload=function(){function e(){r.open("GET",c,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){t(JSON.parse(r.response))}else console.log(r.readyState,r.status)},r.send()}function t(e){var t="",n=e.length;i=n-d<2?n-d:2;for(var r=d;r<d+i;r++){var a=o.firstChild.nextSibling.cloneNode(!0);a.querySelector(".work__img").src=e[r].img,a.querySelector(".work__type").innerHTML=e[r].type,a.querySelector(".work__date").innerHTML=e[r].date,a.querySelector(".work__head").innerHTML=e[r].head,a.querySelector(".work__desc").innerHTML=e[r].desc;for(var c=0;c<e[r].tag.lenght;c++)a.querySelector(".work__tags").appendChild(document.createElement("li"));var l=document.createElement("div");l.id="work__item-"+r,l.appendChild(a),t+=l.innerHTML}d+=2,o.insertAdjacentHTML("beforeend",t)}var n=document.getElementById("menu"),r=new XMLHttpRequest,o=document.getElementById("works"),a=document.getElementById("work-ajax"),d=0,i=0,c="../data/works.json";n.addEventListener("click",function(e){var t=document.getElementById("menu").getElementsByTagName("li"),n=e.target.parentNode;e.preventDefault();for(var r=0;r<t.length;r++)t[r].classList.remove("active");n.classList.add("active")}),a.addEventListener("click",e),window.onscroll=function(){}};