window.onload=function(){function e(){a.open("GET",f,!0),a.setRequestHeader("Content-Type","application/json"),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){t(JSON.parse(a.response))}},a.send()}function t(e){var t="",n=e.length;g=n-y<2?n-y:2;for(var o=y;o<y+g;o++){var i=s.firstChild.nextSibling.cloneNode(!0);i.querySelector(".work__img").src=e[o].img,i.querySelector(".work__type").innerHTML=e[o].type,i.querySelector(".work__date").innerHTML=e[o].date,i.querySelector(".work__head").innerHTML=e[o].head,i.querySelector(".work__desc").innerHTML=e[o].desc;for(var r=0;r<e[o].tag.length;r++){var a=i.querySelector(".work__tags"),d=a.querySelector(".work__tag");d.innerHTML=e[o].tag[r],a.appendChild(d)}i.querySelector(".work__author-img").src=e[o].authorImg,i.querySelector(".work__author-name").innerHTML=e[o].authorName;var c=document.createElement("div");c.appendChild(i),t+=c.innerHTML,o==n-1&&l.classList.add("disabled")}y+=2,s.insertAdjacentHTML("beforeend",t)}function n(){this.classList.toggle("active"),o()}function o(){c.classList.contains("mobile")?d.classList.contains("active")?(u.style="left: -600px;",m.style="min-width: 100%; left: -300px;"):u.style="left: 0px;":d.classList.contains("active")?(u.style="left: 0px;",m.style="min-width: auto; left: 0;"):(u.style="left: -600px;",m.style="min-width: 100%; left: -300px;")}function i(){window.innerWidth<680?c.classList.add("mobile"):c.classList.remove("mobile")}var r=document.getElementById("menu"),a=new XMLHttpRequest,s=document.getElementById("works"),l=document.getElementById("work-ajax"),d=document.getElementById("toggle-menu"),c=document.getElementById("home"),u=document.getElementById("aside"),m=document.getElementById("main"),y=0,g=0,f="../data/works.json";r.addEventListener("click",function(e){var t=document.getElementById("menu").getElementsByTagName("li"),n=e.target.parentNode;e.preventDefault();for(var o=0;o<t.length;o++)t[o].classList.remove("active");n.classList.add("active")}),i(),d.addEventListener("click",n),l.addEventListener("click",e),window.onresize=function(){i(),o()},window.onscroll=function(){}};