window.onload=function(){function e(){i.open("GET",u,!0),i.setRequestHeader("Content-Type","application/json"),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){t(JSON.parse(i.response))}},i.send()}function t(e){var t="",n=e.length;m=n-c<2?n-c:2;for(var o=c;o<c+m;o++){var r=a.firstChild.nextSibling.cloneNode(!0);r.querySelector(".work__img").src=e[o].img,r.querySelector(".work__type").innerHTML=e[o].type,r.querySelector(".work__date").innerHTML=e[o].date,r.querySelector(".work__head").innerHTML=e[o].head,r.querySelector(".work__desc").innerHTML=e[o].desc;for(var i=0;i<e[o].tag.length;i++){var l=r.querySelector(".work__tags"),d=l.querySelector(".work__tag");d.innerHTML=e[o].tag[i],l.appendChild(d)}r.querySelector(".work__author-img").src=e[o].authorImg,r.querySelector(".work__author-name").innerHTML=e[o].authorName;var u=document.createElement("div");u.appendChild(r),t+=u.innerHTML,o==n-1&&s.classList.add("disabled")}c+=2,a.insertAdjacentHTML("beforeend",t)}function n(){var e=document.getElementById("aside"),t=document.getElementById("main");this.classList.toggle("active"),t.classList.contains("mobile")?(l.classList.contains("active")?(e.style.left="-700px",t.style="min-width: 100%; right: 300px;"):e.style.left="0px",console.log("mobile")):l.classList.contains("active")?(e.style.left="-700px",t.style="min-width: 100%; right: 300px;"):(e.style.left="0px",t.style="width: auto; right: 0;")}function o(){window.innerWidth<680?d.classList.add("mobile"):d.classList.remove("mobile")}var r=document.getElementById("menu"),i=new XMLHttpRequest,a=document.getElementById("works"),s=document.getElementById("work-ajax"),l=document.getElementById("toggle-menu"),d=document.getElementById("home"),c=0,m=0,u="../data/works.json";r.addEventListener("click",function(e){var t=document.getElementById("menu").getElementsByTagName("li"),n=e.target.parentNode;e.preventDefault();for(var o=0;o<t.length;o++)t[o].classList.remove("active");n.classList.add("active")}),o(),l.addEventListener("click",n),s.addEventListener("click",e),window.onresize=function(){o()},window.onscroll=function(){}};